caraml-store-registry
==========
CaraML store registry: Feature registry for CaraML store.

Current chart version is `0.1.0`

Source code can be found [here](https://github.com/caraml-dev/caraml-store)



## Chart Values

| Key                                  | Type   | Default                                    | Description                                                                                                                                                                                                                                                                                            |
|--------------------------------------|--------|--------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| "application-generated.yaml".enabled | bool   | `true`                                     | Flag to include Helm generated configuration for http port, database URL, Kafka bootstrap servers and jobs metrics host. This is useful for deployment that uses default configuration for Kafka, Postgres and StatsD exporter. Please set `application-override.yaml` to override this configuration. |
| "application-override.yaml"          | object | `{"enabled":true}`                         | Configuration to override the default application.yaml. Will be created as a ConfigMap. `application-override.yaml` has a higher precedence than `application-secret.yaml`                                                                                                                             |
| "application-secret.yaml"            | object | `{"enabled":true}`                         | Configuration to override the default application.yaml. Will be created as a Secret. `application-override.yaml` has a higher precedence than `application-secret.yaml`. It is recommended to either set `application-override.yaml` or `application-secret.yaml` only to simplify config management.  |
| "application.yaml".enabled           | bool   | `true`                                     | Flag to include the default configuration. Please set `application-override.yaml` to override this configuration.                                                                                                                                                                                      |
| containerRegistrySecret              | string | `""`                                       | private container registry credentials secret name                                                                                                                                                                                                                                                     |
| envOverrides                         | object | `{}`                                       | Extra environment variables to set                                                                                                                                                                                                                                                                     |
| image.pullPolicy                     | string | `"IfNotPresent"`                           | Image pull policy                                                                                                                                                                                                                                                                                      |
| image.repository                     | string | `ghcr.io/caraml-dev/caraml-store-registry` | Docker image repository                                                                                                                                                                                                                                                                                |
| image.tag                            | string | `"develop"`                                | Image tag                                                                                                                                                                                                                                                                                              |
| javaOpts                             | string | `nil`                                      | [JVM options](https://docs.oracle.com/cd/E22289_01/html/821-1274/configuring-the-default-jvm-and-java-arguments.html). For better performance, it is advised to set the min and max heap: <br> `-Xms2048m -Xmx2048m`                                                                                   |
| livenessProbe.enabled                | bool   | `false`                                    | Flag to enabled the probe                                                                                                                                                                                                                                                                              |
| livenessProbe.failureThreshold       | int    | `5`                                        | Min consecutive failures for the probe to be considered failed                                                                                                                                                                                                                                         |
| livenessProbe.initialDelaySeconds    | int    | `60`                                       | Delay before the probe is initiated                                                                                                                                                                                                                                                                    |
| livenessProbe.periodSeconds          | int    | `10`                                       | How often to perform the probe                                                                                                                                                                                                                                                                         |
| livenessProbe.successThreshold       | int    | `1`                                        | Min consecutive success for the probe to be considered successful                                                                                                                                                                                                                                      |
| livenessProbe.timeoutSeconds         | int    | `5`                                        | When the probe times out                                                                                                                                                                                                                                                                               |
| logLevel                             | string | `"WARN"`                                   | Default log level, use either one of `DEBUG`, `INFO`, `WARN` or `ERROR`                                                                                                                                                                                                                                |
| logType                              | string | `"Console"`                                | Log format, either `JSON` or `Console`                                                                                                                                                                                                                                                                 |
| nodeSelector                         | object | `{}`                                       | Node labels for pod assignment                                                                                                                                                                                                                                                                         |
| podLabels                            | object | `{}`                                       | Labels to be added to CaraML store registry pods                                                                                                                                                                                                                                                       |
| postgresql.existingSecret            | string | `""`                                       | Existing secret to use for authenticating to Postgres                                                                                                                                                                                                                                                  |
| prometheus.enabled                   | bool   | `true`                                     | Flag to enable scraping of metrics                                                                                                                                                                                                                                                                     |
| readinessProbe.enabled               | bool   | `true`                                     | Flag to enabled the probe                                                                                                                                                                                                                                                                              |
| readinessProbe.failureThreshold      | int    | `5`                                        | Min consecutive failures for the probe to be considered failed                                                                                                                                                                                                                                         |
| readinessProbe.initialDelaySeconds   | int    | `20`                                       | Delay before the probe is initiated                                                                                                                                                                                                                                                                    |
| readinessProbe.periodSeconds         | int    | `10`                                       | How often to perform the probe                                                                                                                                                                                                                                                                         |
| readinessProbe.successThreshold      | int    | `1`                                        | Min consecutive success for the probe to be considered successful                                                                                                                                                                                                                                      |
| readinessProbe.timeoutSeconds        | int    | `10`                                       | When the probe times out                                                                                                                                                                                                                                                                               |
| replicaCount                         | int    | `1`                                        | Number of pods that will be created                                                                                                                                                                                                                                                                    |
| resources                            | object | `{}`                                       | CPU/memory [resource requests/limit](https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container)                                                                                                                          |
| secrets                              | list   | `[]`                                       | List of Kubernetes secrets to be mounted on CaraML store registry pods. These secrets will be mounted on /etc/secrets/<secret name>.                                                                                                                                                                   |
| service.annotations                  | string | `[]`                                       | annotations to be added to the service                                                                                                                                                                                                                                                                 |
| service.clusterIP                    | string | `""`                                       | clusterIP to be assigned to the service                                                                                                                                                                                                                                                                | 
| service.loadBalancerIP               | string | `""`                                       | loadBalancerIP to be assigned to the service                                                                                                                                                                                                                                                           |
| service.loadBalancerSourceRanges     | string | `[]`                                       | loadBalancerSourceRanges for the service                                                                                                                                                                                                                                                               |
| service.grpc.nodePort                | string | `nil`                                      | Port number that each cluster node will listen to                                                                                                                                                                                                                                                      |
| service.grpc.port                    | int    | `6565`                                     | Service port for GRPC requests                                                                                                                                                                                                                                                                         |
| service.grpc.targetPort              | int    | `6565`                                     | Container port serving GRPC requests                                                                                                                                                                                                                                                                   |
| service.http.nodePort                | string | `nil`                                      | Port number that each cluster node will listen to                                                                                                                                                                                                                                                      |
| service.http.port                    | int    | `80`                                       | Service port for HTTP requests                                                                                                                                                                                                                                                                         |
| service.http.targetPort              | int    | `8080`                                     | Container port serving HTTP requests and Prometheus metrics                                                                                                                                                                                                                                            |
| service.type                         | string | `"ClusterIP"`                              | Kubernetes service type                                                                                                                                                                                                                                                                                |
